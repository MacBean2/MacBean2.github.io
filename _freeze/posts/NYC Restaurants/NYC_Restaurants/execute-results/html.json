{
  "hash": "ba20fefd7824d559e15fa0a1e947c4cd",
  "result": {
    "markdown": "---\ntitle: \"NYC_Restaurants\"\nauthor: \"McAndrew Bean\"\ndate: \"2023-10-30\"\ncategories: [NYC_Restaurants, code, analysis]\nimage: \"NYC_Restaurants.png\"\n\nexecute: \n  warning: false\n  message: false\n  \ntoc: true\nfrom: markdown+emoji\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(skimr)\nrestaurant <- read_csv('https://bcdanl.github.io/data/DOHMH_NYC_Restaurant_Inspection.csv')\n```\n:::\n\n\n# Q1a\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary_stats <- restaurant %>%\n  group_by(GRADE) %>%\n  summarize(\n    Mean = mean(SCORE),\n    StdDev = sd(SCORE),\n    Q1 = quantile(SCORE, 0.25),\n    Median = median(SCORE),\n    Q3 = quantile(SCORE, 0.75),\n    Max = max(SCORE)\n  )\nprint(summary_stats)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 Ã— 7\n  GRADE  Mean StdDev    Q1 Median    Q3   Max\n  <chr> <dbl>  <dbl> <dbl>  <dbl> <dbl> <dbl>\n1 A      9.26   3.42     7     10    12    13\n2 B     21.0    4.16    18     21    24    36\n3 C     38.6   10.8     31     36    44    86\n```\n:::\n:::\n\n\n# Q1b\n\n::: {.cell}\n\n```{.r .cell-code}\ngrade_a_count <- nrow(restaurant[restaurant$GRADE == \"A\", ])\n\ntotal_restaurants <- nrow(restaurant)\n\ngrade_c_percentage <- (nrow(restaurant[restaurant$GRADE == \"C\", ]) / total_restaurants) * 100\n\ncat(\"Number of restaurants with GRADE A:\", grade_a_count, \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nNumber of restaurants with GRADE A: 16305 \n```\n:::\n\n```{.r .cell-code}\ncat(\"Percentage of restaurants with GRADE C:\", grade_c_percentage, \"%\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nPercentage of restaurants with GRADE C: 1.667328 %\n```\n:::\n:::\n\n\n# Q1c\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nggplot(restaurant, aes(x = GRADE, y = SCORE, fill = `CRITICAL FLAG`)) +\n  geom_boxplot() +\n  labs(title = \"Distribution of SCORE by GRADE and CRITICAL FLAG\")\n```\n\n::: {.cell-output-display}\n![](NYC_Restaurants_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n# Q1d\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(restaurant, aes(x = BORO, fill = `CRITICAL FLAG`)) +\n  geom_bar(position = \"fill\") +\n  facet_wrap(~GRADE) +\n  labs(title = \"Proportion of CRITICAL FLAG by GRADE and BORO\")\n```\n\n::: {.cell-output-display}\n![](NYC_Restaurants_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n# Q1e\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_cuisines <- restaurant %>%\n  count(`CUISINE DESCRIPTION`) %>%\n  arrange(desc(n)) %>%\n  head(10) %>%\n  pull(`CUISINE DESCRIPTION`)\n\ntop_cuisine_grade_a <- restaurant %>%\n  filter(`CUISINE DESCRIPTION` %in% top_cuisines) %>%\n  group_by(`CUISINE DESCRIPTION`, GRADE) %>%\n  summarise(count = n()) %>%\n  filter(GRADE == \"A\") %>%\n  arrange(desc(count)) %>%\n  slice(1)\n```\n:::\n\n\n# Q1f\n\n::: {.cell}\n\n```{.r .cell-code}\ncommon_dbas <- restaurant %>%\n  group_by(BORO, DBA) %>%\n  summarize(count = n()) %>%\n  arrange(BORO, desc(count)) %>%\n  group_by(BORO) %>%\n  top_n(3)\n\nmost_common_dba <- common_dbas %>%\n  group_by(DBA) %>%\n  summarize(count = sum(count)) %>%\n  arrange(desc(count)) %>%\n  head(1)\n```\n:::\n\n\n# Q1g\n\n::: {.cell}\n\n```{.r .cell-code}\ncritical_dba <- restaurant %>%\n  filter(DBA %in% common_dbas$DBA) %>%\n  group_by(DBA, `CRITICAL FLAG`) %>%\n  summarize(count = n()) %>%\n  filter(`CRITICAL FLAG` == \"Critical\") %>%\n  arrange(desc(count)) %>%\n  head(1)\n```\n:::",
    "supporting": [
      "NYC_Restaurants_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}